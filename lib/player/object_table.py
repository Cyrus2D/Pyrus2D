from typing import Union
from lib.rcsc.types import MarkerID
from pyrusgeom.vector_2d import Vector2D
from lib.rcsc.server_param import ServerParam
from lib.rcsc.types import ViewWidth


# TODO This two functions should be moved to pyrusgeom 
def lower_bound(nums, target):
    l, r = 0, len(nums) - 1
    while l <= r:
        mid = int(l + (r - l) / 2)
        if nums[mid] >= target:
            r = mid - 1
        else:
            l = mid + 1
    return l


def upper_bound(nums, target):
    l, r = 0, len(nums) - 1
    while l <= r:
        mid = l + (r - l) / 2
        if nums[mid] > target:
            r = mid - 1
        else:
            l = mid + 1
    return l


class DataEntry:
    def __init__(self, seen_dist=0.0, average=0.0, error=0.0):
        self.seen_dist: float = seen_dist
        self.average: float = average
        self.error: float = error


class ObjectTable:
    SERVER_EPS = 1.0e-10

    def __init__(self):
        self._landmark_map: dict[MarkerID, Vector2D] = {}
        self.static_table: list[Union[None, DataEntry]] = [None] * 373
        self.movable_table: list[Union[None, DataEntry]] = [None] * 61

        self.static_table_seen_dist_dict: dict[float, int] = {}
        self.movable_table_seen_dist_dict: dict[float, int] = {}
        
        self.create_landmark_map()
        self.create_table()

    def landmark_map(self) -> dict[MarkerID, Vector2D]:
        return self._landmark_map

    def get_landmark_distance_range(self, view_width: ViewWidth, quantized_dist: float):
        static_table = self.static_table
        keys_dict = self.static_table_seen_dist_dict
        key = lower_bound(list(keys_dict.keys()), quantized_dist)
        index = keys_dict[list(keys_dict.keys())[key]]
        average = static_table[index].average
        error = static_table[index].error
        return average, error 

    def get_distance_range(self, view_width: ViewWidth, quantized_dist: float):
        movable_table = self.movable_table
        keys_dict = self.movable_table_seen_dist_dict
        key = lower_bound(list(keys_dict.keys()), quantized_dist)
        index = keys_dict[list(keys_dict.keys())[key]]
        average = movable_table[index].average
        error = movable_table[index].error
        return average, error
    
    def create_landmark_map(self):
        pitch_half_w = ServerParam.i().pitch_half_width()
        pitch_half_l = ServerParam.i().pitch_half_length()
        penalty_l = ServerParam.i().penalty_area_length()
        penalty_half_w = ServerParam.i().penalty_area_half_width()
        goal_half_w = ServerParam.i().goal_half_width()

        self._landmark_map[MarkerID.Flag_C] = Vector2D(0.0, 0.0)
        self._landmark_map[MarkerID.Flag_CT] = Vector2D(0.0, -pitch_half_w)
        self._landmark_map[MarkerID.Flag_CB] = Vector2D(0.0, +pitch_half_w)
        self._landmark_map[MarkerID.Flag_LT] = Vector2D(-pitch_half_l, -pitch_half_w)
        self._landmark_map[MarkerID.Flag_LB] = Vector2D(-pitch_half_l, +pitch_half_w)
        self._landmark_map[MarkerID.Flag_RT] = Vector2D(+pitch_half_l, -pitch_half_w)
        self._landmark_map[MarkerID.Flag_RB] = Vector2D(+pitch_half_l, +pitch_half_w)
        self._landmark_map[MarkerID.Flag_PLT] = Vector2D(-(pitch_half_l - penalty_l), -penalty_half_w)
        self._landmark_map[MarkerID.Flag_PLC] = Vector2D(-(pitch_half_l - penalty_l), 0.0)
        self._landmark_map[MarkerID.Flag_PLB] = Vector2D(-(pitch_half_l - penalty_l), +penalty_half_w)
        self._landmark_map[MarkerID.Flag_PRT] = Vector2D(+(pitch_half_l - penalty_l), -penalty_half_w)
        self._landmark_map[MarkerID.Flag_PRC] = Vector2D(+(pitch_half_l - penalty_l), 0.0)
        self._landmark_map[MarkerID.Flag_PRB] = Vector2D(+(pitch_half_l - penalty_l), +penalty_half_w)
        self._landmark_map[MarkerID.Flag_GLT] = Vector2D(-pitch_half_l, -goal_half_w)
        self._landmark_map[MarkerID.Flag_GLB] = Vector2D(-pitch_half_l, +goal_half_w)
        self._landmark_map[MarkerID.Flag_GRT] = Vector2D(+pitch_half_l, -goal_half_w)
        self._landmark_map[MarkerID.Flag_GRB] = Vector2D(+pitch_half_l, +goal_half_w)
        self._landmark_map[MarkerID.Flag_TL50] = Vector2D(-50.0, -pitch_half_w - 5.0)
        self._landmark_map[MarkerID.Flag_TL40] = Vector2D(-40.0, -pitch_half_w - 5.0)
        self._landmark_map[MarkerID.Flag_TL30] = Vector2D(-30.0, -pitch_half_w - 5.0)
        self._landmark_map[MarkerID.Flag_TL20] = Vector2D(-20.0, -pitch_half_w - 5.0)
        self._landmark_map[MarkerID.Flag_TL10] = Vector2D(-10.0, -pitch_half_w - 5.0)
        self._landmark_map[MarkerID.Flag_T0] = Vector2D(0.0, -pitch_half_w - 5.0)
        self._landmark_map[MarkerID.Flag_TR10] = Vector2D(+10.0, -pitch_half_w - 5.0)
        self._landmark_map[MarkerID.Flag_TR20] = Vector2D(+20.0, -pitch_half_w - 5.0)
        self._landmark_map[MarkerID.Flag_TR30] = Vector2D(+30.0, -pitch_half_w - 5.0)
        self._landmark_map[MarkerID.Flag_TR40] = Vector2D(+40.0, -pitch_half_w - 5.0)
        self._landmark_map[MarkerID.Flag_TR50] = Vector2D(+50.0, -pitch_half_w - 5.0)
        self._landmark_map[MarkerID.Flag_BL50] = Vector2D(-50.0, pitch_half_w + 5.0)
        self._landmark_map[MarkerID.Flag_BL40] = Vector2D(-40.0, pitch_half_w + 5.0)
        self._landmark_map[MarkerID.Flag_BL30] = Vector2D(-30.0, pitch_half_w + 5.0)
        self._landmark_map[MarkerID.Flag_BL20] = Vector2D(-20.0, pitch_half_w + 5.0)
        self._landmark_map[MarkerID.Flag_BL10] = Vector2D(-10.0, pitch_half_w + 5.0)
        self._landmark_map[MarkerID.Flag_B0] = Vector2D(0.0, pitch_half_w + 5.0)
        self._landmark_map[MarkerID.Flag_BR10] = Vector2D(+10.0, pitch_half_w + 5.0)
        self._landmark_map[MarkerID.Flag_BR20] = Vector2D(+20.0, pitch_half_w + 5.0)
        self._landmark_map[MarkerID.Flag_BR30] = Vector2D(+30.0, pitch_half_w + 5.0)
        self._landmark_map[MarkerID.Flag_BR40] = Vector2D(+40.0, pitch_half_w + 5.0)
        self._landmark_map[MarkerID.Flag_BR50] = Vector2D(+50.0, pitch_half_w + 5.0)
        self._landmark_map[MarkerID.Flag_LT30] = Vector2D(-pitch_half_l - 5.0, -30.0)
        self._landmark_map[MarkerID.Flag_LT20] = Vector2D(-pitch_half_l - 5.0, -20.0)
        self._landmark_map[MarkerID.Flag_LT10] = Vector2D(-pitch_half_l - 5.0, -10.0)
        self._landmark_map[MarkerID.Flag_L0] = Vector2D(-pitch_half_l - 5.0, 0.0)
        self._landmark_map[MarkerID.Flag_LB10] = Vector2D(-pitch_half_l - 5.0, 10.0)
        self._landmark_map[MarkerID.Flag_LB20] = Vector2D(-pitch_half_l - 5.0, 20.0)
        self._landmark_map[MarkerID.Flag_LB30] = Vector2D(-pitch_half_l - 5.0, 30.0)
        self._landmark_map[MarkerID.Flag_RT30] = Vector2D(+pitch_half_l + 5.0, -30.0)
        self._landmark_map[MarkerID.Flag_RT20] = Vector2D(+pitch_half_l + 5.0, -20.0)
        self._landmark_map[MarkerID.Flag_RT10] = Vector2D(+pitch_half_l + 5.0, -10.0)
        self._landmark_map[MarkerID.Flag_R0] = Vector2D(+pitch_half_l + 5.0, 0.0)
        self._landmark_map[MarkerID.Flag_RB10] = Vector2D(+pitch_half_l + 5.0, 10.0)
        self._landmark_map[MarkerID.Flag_RB20] = Vector2D(+pitch_half_l + 5.0, 20.0)
        self._landmark_map[MarkerID.Flag_RB30] = Vector2D(+pitch_half_l + 5.0, 30.0)
        self._landmark_map[MarkerID.Goal_L] = Vector2D(pitch_half_l * -1, 0.0)
        self._landmark_map[MarkerID.Goal_R] = Vector2D(+pitch_half_l, 0.0)

    def create_table(self):
        self.static_table[0] = DataEntry(0.00, 0.025019, 0.025019)
        self.static_table[1] = DataEntry(0.10, 0.100178, 0.050141)
        self.static_table[2] = DataEntry(0.20, 0.200322, 0.050003)
        self.static_table[3] = DataEntry(0.30, 0.301008, 0.050684)
        self.static_table[4] = DataEntry(0.40, 0.401637, 0.049945)
        self.static_table[5] = DataEntry(0.50, 0.501572, 0.049991)
        self.static_table[6] = DataEntry(0.60, 0.599414, 0.047851)
        self.static_table[7] = DataEntry(0.70, 0.699640, 0.052375)
        self.static_table[8] = DataEntry(0.80, 0.799955, 0.047940)
        self.static_table[9] = DataEntry(0.90, 0.897190, 0.049296)
        self.static_table[10] = DataEntry(1.00, 0.996257, 0.049771)
        self.static_table[11] = DataEntry(1.10, 1.095283, 0.049254)
        self.static_table[12] = DataEntry(1.20, 1.198430, 0.053893)
        self.static_table[13] = DataEntry(1.30, 1.304474, 0.052151)
        self.static_table[14] = DataEntry(1.40, 1.405809, 0.049183)
        self.static_table[15] = DataEntry(1.50, 1.499978, 0.044986)
        self.static_table[16] = DataEntry(1.60, 1.600975, 0.056011)
        self.static_table[17] = DataEntry(1.70, 1.699463, 0.042477)
        self.static_table[18] = DataEntry(1.80, 1.795799, 0.053858)
        self.static_table[19] = DataEntry(1.90, 1.897074, 0.047417)
        self.static_table[20] = DataEntry(2.00, 1.994339, 0.049848)
        self.static_table[21] = DataEntry(2.10, 2.096591, 0.052404)
        self.static_table[22] = DataEntry(2.20, 2.204085, 0.055091)
        self.static_table[23] = DataEntry(2.30, 2.305275, 0.046100)
        self.static_table[24] = DataEntry(2.40, 2.399355, 0.047981)
        self.static_table[25] = DataEntry(2.50, 2.497275, 0.049939)
        self.static_table[26] = DataEntry(2.60, 2.599191, 0.051977)
        self.static_table[27] = DataEntry(2.70, 2.705266, 0.054098)
        self.static_table[28] = DataEntry(2.80, 2.801382, 0.042018)
        self.static_table[29] = DataEntry(2.90, 2.901420, 0.058021)
        self.static_table[30] = DataEntry(3.00, 3.004505, 0.045065)
        self.static_table[31] = DataEntry(3.10, 3.096006, 0.046437)
        self.static_table[32] = DataEntry(3.20, 3.190293, 0.047851)
        self.static_table[33] = DataEntry(3.30, 3.287452, 0.049309)
        self.static_table[34] = DataEntry(3.40, 3.387570, 0.050810)
        self.static_table[35] = DataEntry(3.50, 3.490736, 0.052357)
        self.static_table[36] = DataEntry(3.60, 3.597045, 0.053952)
        self.static_table[37] = DataEntry(3.70, 3.706591, 0.055595)
        self.static_table[38] = DataEntry(3.80, 3.800187, 0.038001)
        self.static_table[39] = DataEntry(3.90, 3.896632, 0.058445)
        self.static_table[40] = DataEntry(4.00, 3.995026, 0.039949)
        self.static_table[41] = DataEntry(4.10, 4.096417, 0.061442)
        self.static_table[42] = DataEntry(4.20, 4.199856, 0.041998)
        self.static_table[43] = DataEntry(4.30, 4.306445, 0.064592)
        self.static_table[44] = DataEntry(4.40, 4.415187, 0.044151)
        self.static_table[45] = DataEntry(4.50, 4.504380, 0.045043)
        self.static_table[46] = DataEntry(4.60, 4.595374, 0.045952)
        self.static_table[47] = DataEntry(4.70, 4.688207, 0.046881)
        self.static_table[48] = DataEntry(4.80, 4.782915, 0.047828)
        self.static_table[49] = DataEntry(4.90, 4.879536, 0.048794)
        self.static_table[50] = DataEntry(5.00, 4.978109, 0.049779)
        self.static_table[51] = DataEntry(5.10, 5.078673, 0.050785)
        self.static_table[52] = DataEntry(5.20, 5.181269, 0.051811)
        self.static_table[53] = DataEntry(5.30, 5.285938, 0.052858)
        self.static_table[54] = DataEntry(5.40, 5.392721, 0.053925)
        self.static_table[55] = DataEntry(5.50, 5.501661, 0.055015)
        self.static_table[56] = DataEntry(5.60, 5.612802, 0.056126)
        self.static_table[57] = DataEntry(5.70, 5.697415, 0.028487)
        self.static_table[58] = DataEntry(5.80, 5.783738, 0.057836)
        self.static_table[59] = DataEntry(5.90, 5.900577, 0.059004)
        self.static_table[60] = DataEntry(6.00, 6.019776, 0.060196)
        self.static_table[61] = DataEntry(6.10, 6.110525, 0.030553)
        self.static_table[62] = DataEntry(6.20, 6.203106, 0.062029)
        self.static_table[63] = DataEntry(6.30, 6.296618, 0.031483)
        self.static_table[64] = DataEntry(6.40, 6.392018, 0.063918)
        self.static_table[65] = DataEntry(6.50, 6.488378, 0.032442)
        self.static_table[66] = DataEntry(6.60, 6.586685, 0.065865)
        self.static_table[67] = DataEntry(6.70, 6.685979, 0.033430)
        self.static_table[68] = DataEntry(6.80, 6.787279, 0.067871)
        self.static_table[69] = DataEntry(6.90, 6.889597, 0.034448)
        self.static_table[70] = DataEntry(7.00, 6.993983, 0.069938)
        self.static_table[71] = DataEntry(7.10, 7.099417, 0.035497)
        self.static_table[72] = DataEntry(7.20, 7.206981, 0.072068)
        self.static_table[73] = DataEntry(7.30, 7.315626, 0.036578)
        self.static_table[74] = DataEntry(7.40, 7.389149, 0.036945)
        self.static_table[75] = DataEntry(7.50, 7.501103, 0.075009)
        self.static_table[76] = DataEntry(7.60, 7.614182, 0.038071)
        self.static_table[77] = DataEntry(7.70, 7.690706, 0.038453)
        self.static_table[78] = DataEntry(7.80, 7.807229, 0.078070)
        self.static_table[79] = DataEntry(7.90, 7.924923, 0.039625)
        self.static_table[80] = DataEntry(8.00, 8.004570, 0.040022)
        self.static_table[81] = DataEntry(8.10, 8.085017, 0.040424)
        self.static_table[82] = DataEntry(8.20, 8.207514, 0.082072)
        self.static_table[83] = DataEntry(8.30, 8.331242, 0.041656)
        self.static_table[84] = DataEntry(8.40, 8.414973, 0.042074)
        self.static_table[85] = DataEntry(8.50, 8.499545, 0.042497)
        self.static_table[86] = DataEntry(8.60, 8.584967, 0.042924)
        self.static_table[87] = DataEntry(8.70, 8.671247, 0.043355)
        self.static_table[88] = DataEntry(8.80, 8.802626, 0.088023)
        self.static_table[89] = DataEntry(8.90, 8.935326, 0.044676)
        self.static_table[90] = DataEntry(9.00, 9.025127, 0.045125)
        self.static_table[91] = DataEntry(9.10, 9.115831, 0.045579)
        self.static_table[92] = DataEntry(9.20, 9.207446, 0.046036)
        self.static_table[93] = DataEntry(9.30, 9.299982, 0.046499)
        self.static_table[94] = DataEntry(9.40, 9.393449, 0.046967)
        self.static_table[95] = DataEntry(9.50, 9.487855, 0.047439)
        self.static_table[96] = DataEntry(9.60, 9.583209, 0.047915)
        self.static_table[97] = DataEntry(9.70, 9.679522, 0.048397)
        self.static_table[98] = DataEntry(9.80, 9.776803, 0.048883)
        self.static_table[99] = DataEntry(9.90, 9.875062, 0.049375)
        self.static_table[100] = DataEntry(10.00, 9.974308, 0.049871)
        self.static_table[101] = DataEntry(10.10, 10.074551, 0.050372)
        self.static_table[102] = DataEntry(10.20, 10.175802, 0.050879)
        self.static_table[103] = DataEntry(10.30, 10.278070, 0.051389)
        self.static_table[104] = DataEntry(10.40, 10.381366, 0.051906)
        self.static_table[105] = DataEntry(10.50, 10.485701, 0.052428)
        self.static_table[106] = DataEntry(10.60, 10.591084, 0.052955)
        self.static_table[107] = DataEntry(10.70, 10.697526, 0.053487)
        self.static_table[108] = DataEntry(10.80, 10.805038, 0.054024)
        self.static_table[109] = DataEntry(10.90, 10.913631, 0.054568)
        self.static_table[110] = DataEntry(11.00, 11.023315, 0.055116)
        self.static_table[111] = DataEntry(11.10, 11.134101, 0.055670)
        self.static_table[112] = DataEntry(11.20, 11.246000, 0.056229)
        self.static_table[113] = DataEntry(11.40, 11.359024, 0.056794)
        self.static_table[114] = DataEntry(11.50, 11.473184, 0.057365)
        self.static_table[115] = DataEntry(11.60, 11.588492, 0.057942)
        self.static_table[116] = DataEntry(11.70, 11.704958, 0.058524)
        self.static_table[117] = DataEntry(11.80, 11.822595, 0.059112)
        self.static_table[118] = DataEntry(11.90, 11.941414, 0.059706)
        self.static_table[119] = DataEntry(12.10, 12.061427, 0.060306)
        self.static_table[120] = DataEntry(12.20, 12.182646, 0.060912)
        self.static_table[121] = DataEntry(12.30, 12.305084, 0.061525)
        self.static_table[122] = DataEntry(12.40, 12.428752, 0.062143)
        self.static_table[123] = DataEntry(12.60, 12.553663, 0.062767)
        self.static_table[124] = DataEntry(12.70, 12.679830, 0.063399)
        self.static_table[125] = DataEntry(12.80, 12.807264, 0.064035)
        self.static_table[126] = DataEntry(12.90, 12.935979, 0.064679)
        self.static_table[127] = DataEntry(13.10, 13.065988, 0.065329)
        self.static_table[128] = DataEntry(13.20, 13.197304, 0.065986)
        self.static_table[129] = DataEntry(13.30, 13.329939, 0.066649)
        self.static_table[130] = DataEntry(13.50, 13.463907, 0.067319)
        self.static_table[131] = DataEntry(13.60, 13.599221, 0.067995)
        self.static_table[132] = DataEntry(13.70, 13.735896, 0.068679)
        self.static_table[133] = DataEntry(13.90, 13.873944, 0.069369)
        self.static_table[134] = DataEntry(14.00, 14.013379, 0.070066)
        self.static_table[135] = DataEntry(14.20, 14.154216, 0.070770)
        self.static_table[136] = DataEntry(14.30, 14.296468, 0.071481)
        self.static_table[137] = DataEntry(14.40, 14.440150, 0.072200)
        self.static_table[138] = DataEntry(14.60, 14.585276, 0.072926)
        self.static_table[139] = DataEntry(14.70, 14.731860, 0.073658)
        self.static_table[140] = DataEntry(14.90, 14.879918, 0.074399)
        self.static_table[141] = DataEntry(15.00, 15.029464, 0.075147)
        self.static_table[142] = DataEntry(15.20, 15.180512, 0.075901)
        self.static_table[143] = DataEntry(15.30, 15.333079, 0.076665)
        self.static_table[144] = DataEntry(15.50, 15.487179, 0.077435)
        self.static_table[145] = DataEntry(15.60, 15.642827, 0.078213)
        self.static_table[146] = DataEntry(15.80, 15.800040, 0.078999)
        self.static_table[147] = DataEntry(16.00, 15.958834, 0.079794)
        self.static_table[148] = DataEntry(16.10, 16.119223, 0.080595)
        self.static_table[149] = DataEntry(16.30, 16.281223, 0.081406)
        self.static_table[150] = DataEntry(16.40, 16.444852, 0.082224)
        self.static_table[151] = DataEntry(16.60, 16.610126, 0.083050)
        self.static_table[152] = DataEntry(16.80, 16.777060, 0.083885)
        self.static_table[153] = DataEntry(16.90, 16.945673, 0.084728)
        self.static_table[154] = DataEntry(17.10, 17.115980, 0.085579)
        self.static_table[155] = DataEntry(17.30, 17.287998, 0.086440)
        self.static_table[156] = DataEntry(17.50, 17.461746, 0.087308)
        self.static_table[157] = DataEntry(17.60, 17.637239, 0.088186)
        self.static_table[158] = DataEntry(17.80, 17.814496, 0.089072)
        self.static_table[159] = DataEntry(18.00, 17.993535, 0.089967)
        self.static_table[160] = DataEntry(18.20, 18.174373, 0.090871)
        self.static_table[161] = DataEntry(18.40, 18.357028, 0.091785)
        self.static_table[162] = DataEntry(18.50, 18.541520, 0.092707)
        self.static_table[163] = DataEntry(18.70, 18.727865, 0.093639)
        self.static_table[164] = DataEntry(18.90, 18.916083, 0.094580)
        self.static_table[165] = DataEntry(19.10, 19.106193, 0.095530)
        self.static_table[166] = DataEntry(19.30, 19.298213, 0.096491)
        self.static_table[167] = DataEntry(19.50, 19.492164, 0.097460)
        self.static_table[168] = DataEntry(19.70, 19.688063, 0.098440)
        self.static_table[169] = DataEntry(19.90, 19.885931, 0.099429)
        self.static_table[170] = DataEntry(20.10, 20.085788, 0.100429)
        self.static_table[171] = DataEntry(20.30, 20.287654, 0.101437)
        self.static_table[172] = DataEntry(20.50, 20.491548, 0.102457)
        self.static_table[173] = DataEntry(20.70, 20.697491, 0.103487)
        self.static_table[174] = DataEntry(20.90, 20.905505, 0.104527)
        self.static_table[175] = DataEntry(21.10, 21.115609, 0.105577)
        self.static_table[176] = DataEntry(21.30, 21.327824, 0.106638)
        self.static_table[177] = DataEntry(21.50, 21.542172, 0.107710)
        self.static_table[178] = DataEntry(21.80, 21.758675, 0.108793)
        self.static_table[179] = DataEntry(22.00, 21.977353, 0.109886)
        self.static_table[180] = DataEntry(22.20, 22.198229, 0.110990)
        self.static_table[181] = DataEntry(22.40, 22.421325, 0.112106)
        self.static_table[182] = DataEntry(22.60, 22.646664, 0.113233)
        self.static_table[183] = DataEntry(22.90, 22.874266, 0.114370)
        self.static_table[184] = DataEntry(23.10, 23.104156, 0.115520)
        self.static_table[185] = DataEntry(23.30, 23.336357, 0.116681)
        self.static_table[186] = DataEntry(23.60, 23.570892, 0.117854)
        self.static_table[187] = DataEntry(23.80, 23.807783, 0.119038)
        self.static_table[188] = DataEntry(24.00, 24.047055, 0.120235)
        self.static_table[189] = DataEntry(24.30, 24.288732, 0.121443)
        self.static_table[190] = DataEntry(24.50, 24.532838, 0.122664)
        self.static_table[191] = DataEntry(24.80, 24.779397, 0.123896)
        self.static_table[192] = DataEntry(25.00, 25.028434, 0.125142)
        self.static_table[193] = DataEntry(25.30, 25.279974, 0.126399)
        self.static_table[194] = DataEntry(25.50, 25.534042, 0.127670)
        self.static_table[195] = DataEntry(25.80, 25.790663, 0.128952)
        self.static_table[196] = DataEntry(26.00, 26.049863, 0.130248)
        self.static_table[197] = DataEntry(26.30, 26.311669, 0.131558)
        self.static_table[198] = DataEntry(26.60, 26.576106, 0.132880)
        self.static_table[199] = DataEntry(26.80, 26.843200, 0.134215)
        self.static_table[200] = DataEntry(27.10, 27.112979, 0.135564)
        self.static_table[201] = DataEntry(27.40, 27.385468, 0.136926)
        self.static_table[202] = DataEntry(27.70, 27.660697, 0.138303)
        self.static_table[203] = DataEntry(27.90, 27.938692, 0.139693)
        self.static_table[204] = DataEntry(28.20, 28.219480, 0.141096)
        self.static_table[205] = DataEntry(28.50, 28.503091, 0.142515)
        self.static_table[206] = DataEntry(28.80, 28.789552, 0.143947)
        self.static_table[207] = DataEntry(29.10, 29.078891, 0.145393)
        self.static_table[208] = DataEntry(29.40, 29.371139, 0.146855)
        self.static_table[209] = DataEntry(29.70, 29.666324, 0.148331)
        self.static_table[210] = DataEntry(30.00, 29.964475, 0.149821)
        self.static_table[211] = DataEntry(30.30, 30.265623, 0.151327)
        self.static_table[212] = DataEntry(30.60, 30.569798, 0.152848)
        self.static_table[213] = DataEntry(30.90, 30.877029, 0.154384)
        self.static_table[214] = DataEntry(31.20, 31.187349, 0.155936)
        self.static_table[215] = DataEntry(31.50, 31.500787, 0.157503)
        self.static_table[216] = DataEntry(31.80, 31.817375, 0.159086)
        self.static_table[217] = DataEntry(32.10, 32.137145, 0.160684)
        self.static_table[218] = DataEntry(32.50, 32.460129, 0.162299)
        self.static_table[219] = DataEntry(32.80, 32.786358, 0.163930)
        self.static_table[220] = DataEntry(33.10, 33.115866, 0.165578)
        self.static_table[221] = DataEntry(33.40, 33.448686, 0.167242)
        self.static_table[222] = DataEntry(33.80, 33.784851, 0.168923)
        self.static_table[223] = DataEntry(34.10, 34.124395, 0.170620)
        self.static_table[224] = DataEntry(34.50, 34.467351, 0.172335)
        self.static_table[225] = DataEntry(34.80, 34.813753, 0.174067)
        self.static_table[226] = DataEntry(35.20, 35.163637, 0.175817)
        self.static_table[227] = DataEntry(35.50, 35.517038, 0.177583)
        self.static_table[228] = DataEntry(35.90, 35.873990, 0.179368)
        self.static_table[229] = DataEntry(36.20, 36.234529, 0.181171)
        self.static_table[230] = DataEntry(36.60, 36.598692, 0.182992)
        self.static_table[231] = DataEntry(37.00, 36.966515, 0.184831)
        self.static_table[232] = DataEntry(37.30, 37.338035, 0.186689)
        self.static_table[233] = DataEntry(37.70, 37.713288, 0.188564)
        self.static_table[234] = DataEntry(38.10, 38.092313, 0.190460)
        self.static_table[235] = DataEntry(38.50, 38.475147, 0.192374)
        self.static_table[236] = DataEntry(38.90, 38.861829, 0.194307)
        self.static_table[237] = DataEntry(39.30, 39.252397, 0.196260)
        self.static_table[238] = DataEntry(39.60, 39.646890, 0.198233)
        self.static_table[239] = DataEntry(40.00, 40.045348, 0.200225)
        self.static_table[240] = DataEntry(40.40, 40.447810, 0.202237)
        self.static_table[241] = DataEntry(40.90, 40.854318, 0.204270)
        self.static_table[242] = DataEntry(41.30, 41.264910, 0.206322)
        self.static_table[243] = DataEntry(41.70, 41.679629, 0.208396)
        self.static_table[244] = DataEntry(42.10, 42.098517, 0.210491)
        self.static_table[245] = DataEntry(42.50, 42.521614, 0.212606)
        self.static_table[246] = DataEntry(42.90, 42.948963, 0.214743)
        self.static_table[247] = DataEntry(43.40, 43.380607, 0.216901)
        self.static_table[248] = DataEntry(43.80, 43.816590, 0.219081)
        self.static_table[249] = DataEntry(44.30, 44.256954, 0.221283)
        self.static_table[250] = DataEntry(44.70, 44.701744, 0.223507)
        self.static_table[251] = DataEntry(45.20, 45.151004, 0.225753)
        self.static_table[252] = DataEntry(45.60, 45.604779, 0.228022)
        self.static_table[253] = DataEntry(46.10, 46.063114, 0.230313)
        self.static_table[254] = DataEntry(46.50, 46.526056, 0.232628)
        self.static_table[255] = DataEntry(47.00, 46.993651, 0.234966)
        self.static_table[256] = DataEntry(47.50, 47.465945, 0.237328)
        self.static_table[257] = DataEntry(47.90, 47.942986, 0.239713)
        self.static_table[258] = DataEntry(48.40, 48.424821, 0.242122)
        self.static_table[259] = DataEntry(48.90, 48.911498, 0.244555)
        self.static_table[260] = DataEntry(49.40, 49.403067, 0.247013)
        self.static_table[261] = DataEntry(49.90, 49.899576, 0.249496)
        self.static_table[262] = DataEntry(50.40, 50.401075, 0.252003)
        self.static_table[263] = DataEntry(50.90, 50.907614, 0.254535)
        self.static_table[264] = DataEntry(51.40, 51.419244, 0.257094)
        self.static_table[265] = DataEntry(51.90, 51.936016, 0.259677)
        self.static_table[266] = DataEntry(52.50, 52.457982, 0.262288)
        self.static_table[267] = DataEntry(53.00, 52.985193, 0.264923)
        self.static_table[268] = DataEntry(53.50, 53.517703, 0.267586)
        self.static_table[269] = DataEntry(54.10, 54.055565, 0.270275)
        self.static_table[270] = DataEntry(54.60, 54.598833, 0.272992)
        self.static_table[271] = DataEntry(55.10, 55.147560, 0.275735)
        self.static_table[272] = DataEntry(55.70, 55.701802, 0.278506)
        self.static_table[273] = DataEntry(56.30, 56.261615, 0.281306)
        self.static_table[274] = DataEntry(56.80, 56.827054, 0.284133)
        self.static_table[275] = DataEntry(57.40, 57.398175, 0.286988)
        self.static_table[276] = DataEntry(58.00, 57.975036, 0.289872)
        self.static_table[277] = DataEntry(58.60, 58.557695, 0.292786)
        self.static_table[278] = DataEntry(59.10, 59.146209, 0.295728)
        self.static_table[279] = DataEntry(59.70, 59.740639, 0.298701)
        self.static_table[280] = DataEntry(60.30, 60.341042, 0.301702)
        self.static_table[281] = DataEntry(60.90, 60.947480, 0.304735)
        self.static_table[282] = DataEntry(61.60, 61.560012, 0.307797)
        self.static_table[283] = DataEntry(62.20, 62.178701, 0.310891)
        self.static_table[284] = DataEntry(62.80, 62.803607, 0.314015)
        self.static_table[285] = DataEntry(63.40, 63.434793, 0.317171)
        self.static_table[286] = DataEntry(64.10, 64.072324, 0.320359)
        self.static_table[287] = DataEntry(64.70, 64.716261, 0.323578)
        self.static_table[288] = DataEntry(65.40, 65.366670, 0.326830)
        self.static_table[289] = DataEntry(66.00, 66.023616, 0.330115)
        self.static_table[290] = DataEntry(66.70, 66.687165, 0.333433)
        self.static_table[291] = DataEntry(67.40, 67.357382, 0.336784)
        self.static_table[292] = DataEntry(68.00, 68.034335, 0.340169)
        self.static_table[293] = DataEntry(68.70, 68.718091, 0.343587)
        self.static_table[294] = DataEntry(69.40, 69.408720, 0.347041)
        self.static_table[295] = DataEntry(70.10, 70.106289, 0.350528)
        self.static_table[296] = DataEntry(70.80, 70.810869, 0.354051)
        self.static_table[297] = DataEntry(71.50, 71.522530, 0.357609)
        self.static_table[298] = DataEntry(72.20, 72.241343, 0.361203)
        self.static_table[299] = DataEntry(73.00, 72.967381, 0.364834)
        self.static_table[300] = DataEntry(73.70, 73.700715, 0.368500)
        self.static_table[301] = DataEntry(74.40, 74.441420, 0.372204)
        self.static_table[302] = DataEntry(75.20, 75.189568, 0.375944)
        self.static_table[303] = DataEntry(75.90, 75.945236, 0.379723)
        self.static_table[304] = DataEntry(76.70, 76.708498, 0.383539)
        self.static_table[305] = DataEntry(77.50, 77.479432, 0.387394)
        self.static_table[306] = DataEntry(78.30, 78.258113, 0.391287)
        self.static_table[307] = DataEntry(79.00, 79.044620, 0.395219)
        self.static_table[308] = DataEntry(79.80, 79.839032, 0.399192)
        self.static_table[309] = DataEntry(80.60, 80.641427, 0.403203)
        self.static_table[310] = DataEntry(81.50, 81.451887, 0.407256)
        self.static_table[311] = DataEntry(82.30, 82.270492, 0.411349)
        self.static_table[312] = DataEntry(83.10, 83.097325, 0.415483)
        self.static_table[313] = DataEntry(83.90, 83.932467, 0.419659)
        self.static_table[314] = DataEntry(84.80, 84.776002, 0.423876)
        self.static_table[315] = DataEntry(85.60, 85.628014, 0.428136)
        self.static_table[316] = DataEntry(86.50, 86.488590, 0.432439)
        self.static_table[317] = DataEntry(87.40, 87.357815, 0.436785)
        self.static_table[318] = DataEntry(88.20, 88.235776, 0.441175)
        self.static_table[319] = DataEntry(89.10, 89.122560, 0.445609)
        self.static_table[320] = DataEntry(90.00, 90.018257, 0.450087)
        self.static_table[321] = DataEntry(90.90, 90.922956, 0.454611)
        self.static_table[322] = DataEntry(91.80, 91.836746, 0.459179)
        self.static_table[323] = DataEntry(92.80, 92.759721, 0.463795)
        self.static_table[324] = DataEntry(93.70, 93.691972, 0.468456)
        self.static_table[325] = DataEntry(94.60, 94.633592, 0.473164)
        self.static_table[326] = DataEntry(95.60, 95.584675, 0.477919)
        self.static_table[327] = DataEntry(96.50, 96.545317, 0.482722)
        self.static_table[328] = DataEntry(97.50, 97.515614, 0.487574)
        self.static_table[329] = DataEntry(98.50, 98.495662, 0.492474)
        self.static_table[330] = DataEntry(99.50, 99.485560, 0.497424)
        self.static_table[331] = DataEntry(100.50, 100.485406, 0.502422)
        self.static_table[332] = DataEntry(101.50, 101.495301, 0.507472)
        self.static_table[333] = DataEntry(102.50, 102.515346, 0.512572)
        self.static_table[334] = DataEntry(103.50, 103.545642, 0.517723)
        self.static_table[335] = DataEntry(104.60, 104.586293, 0.522927)
        self.static_table[336] = DataEntry(105.60, 105.637403, 0.528182)
        self.static_table[337] = DataEntry(106.70, 106.699077, 0.533491)
        self.static_table[338] = DataEntry(107.80, 107.771420, 0.538852)
        self.static_table[339] = DataEntry(108.90, 108.854541, 0.544268)
        self.static_table[340] = DataEntry(109.90, 109.948547, 0.549738)
        self.static_table[341] = DataEntry(111.10, 111.053549, 0.555263)
        self.static_table[342] = DataEntry(112.20, 112.169655, 0.560843)
        self.static_table[343] = DataEntry(113.30, 113.296979, 0.566480)
        self.static_table[344] = DataEntry(114.40, 114.435632, 0.572173)
        self.static_table[345] = DataEntry(115.60, 115.585730, 0.577924)
        self.static_table[346] = DataEntry(116.70, 116.747386, 0.583732)
        self.static_table[347] = DataEntry(117.90, 117.920716, 0.589598)
        self.static_table[348] = DataEntry(119.10, 119.105839, 0.595524)
        self.static_table[349] = DataEntry(120.30, 120.302873, 0.601509)
        self.static_table[350] = DataEntry(121.50, 121.511937, 0.607555)
        self.static_table[351] = DataEntry(122.70, 122.733152, 0.613660)
        self.static_table[352] = DataEntry(124.00, 123.966641, 0.619828)
        self.static_table[353] = DataEntry(125.20, 125.212526, 0.626057)
        self.static_table[354] = DataEntry(126.50, 126.470933, 0.632349)
        self.static_table[355] = DataEntry(127.70, 127.741987, 0.638704)
        self.static_table[356] = DataEntry(129.00, 129.025815, 0.645123)
        self.static_table[357] = DataEntry(130.30, 130.322546, 0.651607)
        self.static_table[358] = DataEntry(131.60, 131.632310, 0.658156)
        self.static_table[359] = DataEntry(133.00, 132.955236, 0.664770)
        self.static_table[360] = DataEntry(134.30, 134.291459, 0.671452)
        self.static_table[361] = DataEntry(135.60, 135.641111, 0.678200)
        self.static_table[362] = DataEntry(137.00, 137.004326, 0.685015)
        self.static_table[363] = DataEntry(138.40, 138.381242, 0.691900)
        self.static_table[364] = DataEntry(139.80, 139.771997, 0.698854)
        self.static_table[365] = DataEntry(141.20, 141.176729, 0.705877)
        self.static_table[366] = DataEntry(142.60, 142.595579, 0.712972)
        self.static_table[367] = DataEntry(144.00, 144.028688, 0.720137)
        self.static_table[368] = DataEntry(145.50, 145.476201, 0.727375)
        self.static_table[369] = DataEntry(146.90, 146.938261, 0.734685)
        self.static_table[370] = DataEntry(148.40, 148.415015, 0.742069)
        self.static_table[371] = DataEntry(149.90, 149.906611, 0.749527)
        self.static_table[372] = DataEntry(151.40, 151.413197, 0.757059)

        self.movable_table[0] = DataEntry(0.00, 0.026170, 0.026170)
        self.movable_table[1] = DataEntry(0.10, 0.104789, 0.052449)
        self.movable_table[2] = DataEntry(0.20, 0.208240, 0.051001)
        self.movable_table[3] = DataEntry(0.30, 0.304589, 0.045348)
        self.movable_table[4] = DataEntry(0.40, 0.411152, 0.061214)
        self.movable_table[5] = DataEntry(0.50, 0.524658, 0.052292)
        self.movable_table[6] = DataEntry(0.60, 0.607289, 0.030340)
        self.movable_table[7] = DataEntry(0.70, 0.708215, 0.070586)
        self.movable_table[8] = DataEntry(0.80, 0.819755, 0.040954)
        self.movable_table[9] = DataEntry(0.90, 0.905969, 0.045261)
        self.movable_table[10] = DataEntry(1.00, 1.001251, 0.050021)
        self.movable_table[11] = DataEntry(1.10, 1.106553, 0.055281)
        self.movable_table[12] = DataEntry(1.20, 1.222930, 0.061095)
        self.movable_table[13] = DataEntry(1.30, 1.351547, 0.067521)
        self.movable_table[14] = DataEntry(1.50, 1.493690, 0.074622)
        self.movable_table[15] = DataEntry(1.60, 1.650783, 0.082470)
        self.movable_table[16] = DataEntry(1.80, 1.824397, 0.091143)
        self.movable_table[17] = DataEntry(2.00, 2.016271, 0.100730)
        self.movable_table[18] = DataEntry(2.20, 2.228324, 0.111323)
        self.movable_table[19] = DataEntry(2.50, 2.462678, 0.123032)
        self.movable_table[20] = DataEntry(2.70, 2.721681, 0.135971)
        self.movable_table[21] = DataEntry(3.00, 3.007923, 0.150271)
        self.movable_table[22] = DataEntry(3.30, 3.324268, 0.166075)
        self.movable_table[23] = DataEntry(3.70, 3.673885, 0.183542)
        self.movable_table[24] = DataEntry(4.10, 4.060271, 0.202845)
        self.movable_table[25] = DataEntry(4.50, 4.487293, 0.224178)
        self.movable_table[26] = DataEntry(5.00, 4.959226, 0.247755)
        self.movable_table[27] = DataEntry(5.50, 5.480792, 0.273812)
        self.movable_table[28] = DataEntry(6.00, 6.057212, 0.302609)
        self.movable_table[29] = DataEntry(6.70, 6.694254, 0.334434)
        self.movable_table[30] = DataEntry(7.40, 7.398295, 0.369607)
        self.movable_table[31] = DataEntry(8.20, 8.176381, 0.408478)
        self.movable_table[32] = DataEntry(9.00, 9.036297, 0.451438)
        self.movable_table[33] = DataEntry(10.00, 9.986653, 0.498917)
        self.movable_table[34] = DataEntry(11.00, 11.036958, 0.551388)
        self.movable_table[35] = DataEntry(12.20, 12.197725, 0.609378)
        self.movable_table[36] = DataEntry(13.50, 13.480571, 0.673467)
        self.movable_table[37] = DataEntry(14.90, 14.898335, 0.744296)
        self.movable_table[38] = DataEntry(16.40, 16.465207, 0.822575)
        self.movable_table[39] = DataEntry(18.20, 18.196868, 0.909086)
        self.movable_table[40] = DataEntry(20.10, 20.110649, 1.004696)
        self.movable_table[41] = DataEntry(22.20, 22.225705, 1.110360)
        self.movable_table[42] = DataEntry(24.50, 24.563203, 1.227138)
        self.movable_table[43] = DataEntry(27.10, 27.146537, 1.356197)
        self.movable_table[44] = DataEntry(30.00, 30.001564, 1.498830)
        self.movable_table[45] = DataEntry(33.10, 33.156856, 1.656462)
        self.movable_table[46] = DataEntry(36.60, 36.643992, 1.830674)
        self.movable_table[47] = DataEntry(40.40, 40.497875, 2.023208)
        self.movable_table[48] = DataEntry(44.70, 44.757073, 2.235990)
        self.movable_table[49] = DataEntry(49.40, 49.464215, 2.471151)
        self.movable_table[50] = DataEntry(54.60, 54.666412, 2.731045)
        self.movable_table[51] = DataEntry(60.30, 60.415729, 3.018271)
        self.movable_table[52] = DataEntry(66.70, 66.769707, 3.335706)
        self.movable_table[53] = DataEntry(73.70, 73.791938, 3.686525)
        self.movable_table[54] = DataEntry(81.50, 81.552704, 4.074240)
        self.movable_table[55] = DataEntry(90.00, 90.129677, 4.502732)
        self.movable_table[56] = DataEntry(99.50, 99.608697, 4.976288)
        self.movable_table[57] = DataEntry(109.90, 110.084635, 5.499649)
        self.movable_table[58] = DataEntry(121.50, 121.662338, 6.078053)
        self.movable_table[59] = DataEntry(134.30, 134.457678, 6.717287)
        self.movable_table[60] = DataEntry(148.40, 148.598714, 7.423750)

        for i in range(len(self.static_table)):
            self.static_table_seen_dist_dict[self.static_table[i].seen_dist] = i
        for i in range(len(self.movable_table)):
            self.movable_table_seen_dist_dict[self.movable_table[i].seen_dist] = i

    @property
    def landmark_map(self) -> dict[MarkerID, Vector2D]:
        return self._landmark_map
